<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XLTRASEARCH</title>
<style>
  html, body {
    margin: 0; padding: 0; width: 100%; height: 100%;
    font-family: Arial, sans-serif; background: #000; overflow-x: hidden;
  }

  /* Proximity triangle canvas */
  canvas { position: fixed; top:0; left:0; width:100%; height:100%; z-index:1; }

  /* Header box */
  #header {
    position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
    background: rgba(0,0,0,0.85); border-radius: 15px;
    padding: 15px 30px; z-index: 10; display: flex; align-items: center; gap: 15px;
  }
  #header h1 { margin:0; color:white; font-size: 32px; }

  input[type=text] {
    padding: 10px; font-size:16px; border-radius:10px; border:none; width:250px;
  }
  button { padding:10px 15px; border:none; border-radius:10px; cursor:pointer; }

  /* Search results iframe box */
  #resultBox {
    position: fixed; top:50%; left:50%; transform: translate(-50%, -50%) scale(0);
    width: 80%; height: 70%; background:#111; border-radius:20px; z-index: 9;
    box-shadow:0 0 20px rgba(0,0,0,0.7); overflow:hidden;
    transition: transform 0.4s ease;
  }
  #resultBox.show { transform: translate(-50%, -50%) scale(1); }
  #resultBox iframe { width:100%; height:100%; border:none; }

  /* Close button */
  #closeBtn {
    position:absolute; top:10px; right:10px; padding:5px 10px;
    background: rgba(255,255,255,0.2); color:white; border:none; border-radius:5px;
    cursor:pointer; z-index: 11;
  }
</style>
</head>
<body>

<div id="header">
  <h1>XLTRASEARCH</h1>
  <input type="text" id="searchInput" placeholder="Search...">
  <button id="searchBtn">Search</button>
</div>

<div id="resultBox">
  <button id="closeBtn">âœ•</button>
  <iframe id="resultFrame"></iframe>
</div>

<canvas id="triCanvas"></canvas>

<script src="triangles.js"></script>
<script>
const searchBtn = document.getElementById('searchBtn');
const input = document.getElementById('searchInput');
const resultBox = document.getElementById('resultBox');
const resultFrame = document.getElementById('resultFrame');
const closeBtn = document.getElementById('closeBtn');

searchBtn.addEventListener('click', () => {
  const query = input.value.trim();
  if (!query) return;
  // Load via proxy
  resultFrame.src = `/search?q=${encodeURIComponent(query)}`;
  resultBox.classList.add('show');
});

closeBtn.addEventListener('click', () => {
  resultBox.classList.remove('show');
  resultFrame.src = '';
});
</script>
</body>
</html>
