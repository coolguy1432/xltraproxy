<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>XLTRA Search</title>
<style>
html, body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#000; font-family: Arial, sans-serif;}
#header {
    position:absolute;
    top:20px;
    left:50%;
    transform:translateX(-50%);
    text-align:center;
    z-index:10;
}
#header h1 { color:white; font-family:'Orbitron', sans-serif; font-size:55px; margin-bottom:10px; text-shadow:0 0 15px rgba(255,255,255,0.7);}
#header input { padding:10px 15px; border-radius:10px; border:none; width:300px; font-size:18px;}
#header button { padding:10px 15px; border-radius:10px; border:none; font-size:18px; cursor:pointer;}
#resultBox {
    position:absolute;
    top:120px;
    left:50%;
    transform:translateX(-50%);
    width:80%;
    height:70%;
    background:rgba(0,0,0,1);
    border-radius:20px;
    display:none;
    overflow:hidden;
    z-index:10;
}
#resultBox iframe {
    width:100%;
    height:100%;
    border:none;
}
canvas { position:fixed; top:0; left:0; width:100%; height:100%; z-index:1;}
</style>
</head>
<body>
<div id="header">
<h1>XLTRA Search</h1>
<input id="query" type="text" placeholder="Search...">
<button onclick="doSearch()">Search</button>
</div>

<div id="resultBox">
    <iframe id="searchResults"></iframe>
</div>

<canvas id="triCanvas"></canvas>

<script>
// Triangle background
const canvas = document.getElementById('triCanvas');
const ctx = canvas.getContext('2d');
let w,h,triangles=[];
let mouse={x:0,y:0};
function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=window.innerHeight; generateTriangles(); }
window.addEventListener('resize', resize);
window.addEventListener('mousemove', e=>{ mouse.x=e.clientX; mouse.y=e.clientY; });
function generateTriangles() {
    triangles=[];
    const base=140;
    for(let row=0; row<Math.ceil(h/(base*0.9))+4; row++){
        for(let col=0; col<Math.ceil(w/base)+4; col++){
            let size=base+(Math.random()*40-20);
            let x=col*base+(row%2===0?0:base/2);
            let y=row*(base*0.9);
            triangles.push({x,y,size,rotation:Math.random()*Math.PI*2});
        }
    }
}
function drawTriangle(t){
    const dist=Math.hypot(mouse.x-t.x, mouse.y-t.y);
    const brightness=Math.max(30, 255-dist*0.22);
    ctx.fillStyle=`rgb(${brightness},${brightness},${brightness})`;
    ctx.save();
    ctx.translate(t.x,t.y);
    ctx.rotate(t.rotation);
    ctx.beginPath();
    ctx.moveTo(0,-t.size/2);
    ctx.lineTo(-t.size/1.6,t.size/2);
    ctx.lineTo(t.size/1.6,t.size/2);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
}
function animate(){ ctx.clearRect(0,0,w,h); triangles.forEach(drawTriangle); requestAnimationFrame(animate);}
resize(); animate();

// Search function
function doSearch(){
    const query=document.getElementById('query').value.trim();
    if(!query) return;
    const iframe=document.getElementById('searchResults');
    // REPLACE this URL with your Render proxy URL
    iframe.src=`https://your-proxy.onrender.com/search?q=${encodeURIComponent(query)}`;
    document.getElementById('resultBox').style.display='block';
}
</script>
</body>
</html>
